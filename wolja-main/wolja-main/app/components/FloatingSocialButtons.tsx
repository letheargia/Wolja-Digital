"use client";

import { useState } from "react";

export default function FloatingSocialButtons() {
  const [isExpanded, setIsExpanded] = useState(false);

  const toggleExpanded = () => {
    setIsExpanded(!isExpanded);
  };

  const handleWhatsAppClick = () => {
    window.open("https://wa.me/48662329559", "_blank");
  };

  const handleTelegramClick = () => {
    window.open("https://t.me/wolja_digital", "_blank");
  };

  return (
    <div className="fixed right-[50px] bottom-[50px] flex flex-col gap-3 z-50">
      {/* WhatsApp - Only visible when expanded */}
      <div
        className={`w-[60px] h-[60px] rounded-full bg-[#00E510] flex items-center justify-center hover:scale-110 transition-all duration-300 cursor-pointer ${
          isExpanded
            ? "opacity-100 translate-y-0"
            : "opacity-0 -translate-y-full pointer-events-none"
        }`}
        onClick={handleWhatsAppClick}
      >
        <svg width="39" height="38" viewBox="0 0 39 38" fill="none">
          <path
            d="M24.5631 28C17.0856 28 11.002 21.5564 11 13.639C11.002 11.632 12.5455 10 14.4369 10C14.6313 10 14.8237 10.0173 15.0079 10.052C15.4132 10.1235 15.7981 10.2688 16.1522 10.4877C16.2034 10.5202 16.2382 10.5722 16.2464 10.6329L17.0365 15.9061C17.0467 15.9689 17.0283 16.0296 16.9894 16.0751C16.5534 16.5866 15.9966 16.9551 15.3764 17.1393L15.0776 17.2282L15.1901 17.5338C16.2095 20.282 18.2851 22.4775 20.8827 23.5612L21.1713 23.6826L21.2553 23.3662C21.4292 22.7095 21.7772 22.1199 22.2603 21.6583C22.2951 21.6236 22.3422 21.6063 22.3893 21.6063C22.3995 21.6063 22.4098 21.6063 22.422 21.6084L27.4023 22.445C27.4616 22.4559 27.5108 22.4905 27.5415 22.5447C27.7462 22.9197 27.8833 23.3293 27.9529 23.7585C27.9857 23.9492 28 24.1508 28 24.361C28 26.3658 26.4586 27.9978 24.5631 28Z"
            fill="#FDFDFD"
          />
          <path
            d="M38.9266 17.3054C38.5134 12.6019 36.3739 8.23855 32.9024 5.02046C29.41 1.78336 24.8792 0 20.1408 0C9.74109 0 1.27953 8.5238 1.27953 19C1.27953 22.516 2.2423 25.9412 4.06508 28.9247L0 37.9894L13.0154 36.5928C15.2787 37.5267 17.6741 38 20.1387 38C20.7869 38 21.4518 37.9662 22.1188 37.8965C22.7061 37.8331 23.2998 37.7401 23.8829 37.6218C32.592 35.849 38.9497 28.0626 39 19.1014V19C39 18.4295 38.9748 17.859 38.9245 17.3054H38.9266ZM13.5167 32.614L6.31578 33.3873L8.46579 28.5887L8.03578 28.0077C8.00431 27.9654 7.97286 27.9232 7.9372 27.8746C6.07037 25.2777 5.08449 22.2096 5.08449 19.0021C5.08449 10.6389 11.8386 3.83508 20.1408 3.83508C27.9186 3.83508 34.5112 9.94795 35.1468 17.7512C35.1803 18.1696 35.1992 18.5901 35.1992 19.0042C35.1992 19.1226 35.1971 19.2388 35.195 19.3634C35.0356 26.3595 30.1839 32.3013 23.3962 33.8142C22.8781 33.9304 22.3474 34.0191 21.8189 34.0762C21.2693 34.1396 20.7051 34.1713 20.145 34.1713C18.1502 34.1713 16.2121 33.7825 14.3809 33.0133C14.1774 32.9309 13.9782 32.8422 13.7915 32.7513L13.5188 32.6182L13.5167 32.614Z"
            fill="#FDFDFD"
          />
        </svg>
      </div>

      {/* Telegram - Only visible when expanded */}
      <div
        className={`w-[60px] h-[60px] rounded-full bg-[#00B0F2] flex items-center justify-center hover:scale-110 transition-all duration-300 cursor-pointer ${
          isExpanded
            ? "opacity-100 translate-y-0"
            : "opacity-0 -translate-y-full pointer-events-none"
        }`}
        onClick={handleTelegramClick}
      >
        <svg width="60" height="60" viewBox="0 0 60 60" fill="none">
          <path
            d="M30.0683 0H29.9317C13.4009 0 0 13.4009 0 29.9317V30.0683C0 46.5991 13.4009 60 29.9317 60H30.0683C46.5991 60 60 46.5991 60 30.0683V29.9317C60 13.4009 46.5991 0 30.0683 0Z"
            fill="#00B0F2"
          />
          <path
            d="M10.9721 28.6753C11.057 28.6337 11.1421 28.5941 11.2249 28.5567C12.6651 27.9032 14.1245 27.2913 15.5817 26.6794C15.6603 26.6794 15.792 26.5899 15.8663 26.5608C15.9789 26.5129 16.0915 26.4671 16.2041 26.4192L16.852 26.1466C17.2854 25.9655 17.7166 25.7845 18.1499 25.6034C19.0145 25.2413 19.879 24.8791 20.7436 24.5149C22.4727 23.7906 24.204 23.0643 25.9332 22.34C27.6623 21.6157 29.3935 20.8894 31.1227 20.1651C32.8518 19.4408 34.5831 18.7145 36.3122 17.9902C38.0413 17.2659 39.7726 16.5396 41.5018 15.8153C41.8863 15.653 42.3026 15.4116 42.7147 15.3408C43.061 15.2804 43.3987 15.1639 43.7471 15.0994C44.4077 14.9766 45.1363 14.9266 45.7693 15.1951C45.9881 15.2888 46.1899 15.4199 46.3578 15.5843C47.1607 16.3627 47.0481 17.6406 46.8782 18.7353C45.695 26.3651 44.5118 33.9971 43.3265 41.6269C43.165 42.6738 42.9441 43.8226 42.1008 44.4844C41.387 45.0443 40.3716 45.1067 39.4901 44.8695C38.6085 44.6301 37.831 44.1285 37.0684 43.6353C33.9054 41.5832 30.7403 39.5311 27.5773 37.479C26.8253 36.992 25.9884 36.3551 25.9969 35.4706C26.0012 34.9378 26.3261 34.4633 26.6575 34.0408C29.4063 30.5276 33.3723 28.1134 36.3228 24.7626C36.7392 24.2901 37.0663 23.4368 36.4949 23.1642C36.155 23.0018 35.7641 23.2225 35.454 23.4327C31.5539 26.0863 27.6559 28.7419 23.7558 31.3955C22.4834 32.2613 21.1494 33.1521 19.6157 33.3644C18.2434 33.5558 16.8627 33.1812 15.535 32.7983C14.4219 32.4777 13.3109 32.1489 12.2041 31.8097C11.6157 31.6307 11.0082 31.4371 10.5536 31.0313C10.099 30.6254 9.83777 29.9428 10.1118 29.4017C10.2839 29.0624 10.6174 28.8481 10.9679 28.6732L10.9721 28.6753Z"
            fill="#FEFFFC"
          />
        </svg>
      </div>

      {/* Support/Close Button - Always visible */}
      <div
        className="w-[60px] h-[60px] rounded-full bg-[#84cc16] flex items-center justify-center hover:scale-110 transition-all duration-300 cursor-pointer"
        onClick={toggleExpanded}
      >
        {isExpanded ? (
          // Close icon when expanded
          <svg width="30" height="30" viewBox="0 0 30 30" fill="none">
            <path
              d="M8.75 8.75L21.25 21.25M8.75 21.25L21.25 8.75"
              stroke="white"
              strokeWidth="1.25"
              strokeLinecap="round"
              strokeLinejoin="round"
            />
          </svg>
        ) : (
          // Support icon when collapsed
          <svg width="60" height="60" viewBox="0 0 60 60" fill="none">
            <rect width="60" height="60" rx="30" fill="#84CC16" />
            <path
              d="M25.625 38.75H25C20 38.75 17.5 37.5 17.5 31.25V25C17.5 20 20 17.5 25 17.5H35C40 17.5 42.5 20 42.5 25V31.25C42.5 36.25 40 38.75 35 38.75H34.375C33.9875 38.75 33.6125 38.9375 33.375 39.25L31.5 41.75C30.675 42.85 29.325 42.85 28.5 41.75L26.625 39.25C26.425 38.975 25.9625 38.75 25.625 38.75Z"
              stroke="white"
              strokeMiterlimit="10"
              strokeLinecap="round"
              strokeLinejoin="round"
            />
            <path
              d="M23.75 25H36.25"
              stroke="white"
              strokeLinecap="round"
              strokeLinejoin="round"
            />
            <path
              d="M23.75 31.25H31.25"
              stroke="white"
              strokeLinecap="round"
              strokeLinejoin="round"
            />
          </svg>
        )}
      </div>
    </div>
  );
}
